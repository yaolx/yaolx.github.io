import"./react.103bb038.js";import{bf as u}from"./index.cfa709c1.js";import"./lodash.97b9911e.js";import"./markmap.86774f21.js";const e={},n="wrapper";function i({components:p,...a}){return u(n,{...e,...a,components:p,mdxType:"MDXLayout"},u("h1",null,u("center",null,"uniapp \u79BB\u7EBF\u6253\u5305")),u("h2",null,"\u524D\u8A00"),u("p",null,"\u5728\u524D\u9762\u642D\u5EFA\u5B8C\u6210 uniapp \u811A\u624B\u67B6",u("a",{parentName:"p",href:"https://yaolx.github.io/#/front/20230107"},"uniapp-boat"),`\u540E\uFF0C\u5F00\u59CB\u7740\u624B\u505A android\u3001ios \u6253\u5305\u7684\u4E8B\u60C5\u3002
\u811A\u624B\u67B6\u662F\u57FA\u4E8E vite \u6784\u5EFA\u7684\uFF0C\u7528 vscode \u8FDB\u884C\u5F00\u53D1\uFF0C\u6240\u4EE5\u5E76\u4E0D\u6253\u7B97\u7528 HbuilderX \u5F00\u53D1\u9879\u76EE\uFF0C\u4E5F\u4E0D\u4F1A\u7528 HbuilderX \u8FDB\u884C\u6253\u5305\u3002`),u("h2",null,"\u4E86\u89E3",u("a",{parentName:"h2",href:"https://github.com/uappkit/uapp"},"uapp"),"\u5DE5\u5177"),u("p",null,"uapp \u662F\u89E3\u51B3 uniapp \u5F00\u53D1\u75DB\u70B9\u5E76\u63D0\u5347\u5176\u5F00\u53D1\u6548\u7387\u7684\u547D\u4EE4\u884C\u5DE5\u5177\u3002\u7C7B\u4F3C\u4E8E cordova, ionic, expo \u7684\u4F5C\u7528\u3002uapp \u8FD8\u5305\u542B uapp-android, uapp-ios \u4E24\u4E2A\u5E73\u53F0\u7684\u6A21\u677F\u4EE3\u7801"),u("h2",null,"uappsdk \u4F7F\u7528"),u("h3",null,"\u5B89\u88C5"),u("p",null,u("inlineCode",{parentName:"p"},"npm install -g uapp")),u("h3",null,"\u4E0B\u8F7D uniapp \u79BB\u7EBF\u6253\u5305\u7684 SDK"),u("p",null,u("a",{parentName:"p",href:"https://nativesupport.dcloud.net.cn/AppDocs/download/android"},"android \u79BB\u7EBF\u6253\u5305 SDK")),u("p",null,u("a",{parentName:"p",href:"https://nativesupport.dcloud.net.cn/AppDocs/download/ios"},"ios \u79BB\u7EBF\u6253\u5305 SDK")),u("h3",null,"\u89E3\u538B\u5176\u4E2D\u7684 SDK \u76EE\u5F55\uFF0C\u653E\u5230.uappsdk \u6587\u4EF6\u5939\u91CC\uFF0C\u6700\u7EC8.uappsdk \u6587\u4EF6\u5939\u7ED3\u6784\u5982\u4E0B\uFF1A"),u("pre",null,u("code",{parentName:"pre",className:"language-js"},`
$HOME:C:\\Users\\{\u7528\u6237}
> $HOME/.uappsdk/
.
\u251C\u2500\u2500 android
\u2502   \u251C\u2500\u2500 SDK   # -> \u8FD9\u91CC\u662FAndroid\u7684SDK
\u2502   \u2514\u2500\u2500 libs  # -> \u9700\u8981\u7528\u5230\u7684java lib\u5E93
\u251C\u2500\u2500 ios
\u2502   \u251C\u2500\u2500 SDK   # -> \u8FD9\u91CC\u662FiOS\u7684SDK
\u2514\u2500\u2500 templates
    \u2514\u2500\u2500 manifest.json
`)),u("h3",null,"\u4E0B\u8F7D\u79BB\u7EBF\u6253\u5305\u5DE5\u7A0B\u6E90\u7801"),u("ol",null,u("li",{parentName:"ol"},u("p",{parentName:"li"},`\u4E0B\u8F7D Android \u79BB\u7EBF\u5DE5\u7A0B\u6E90\u7801
\u89C1 `,u("a",{parentName:"p",href:"https://github.com/uappkit/uapp/blob/main/doc/uapp-android.md"},"uapp-android.md"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},`\u4E0B\u8F7D iOS \u79BB\u7EBF\u5DE5\u7A0B\u6E90\u7801
\u89C1 `,u("a",{parentName:"p",href:"https://github.com/uappkit/uapp/blob/main/doc/uapp-ios.md"},"uapp-ios.md"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u79BB\u7EBF\u5DE5\u7A0B\u4E0B\u5E38\u89C1\u547D\u4EE4"))),u("ul",null,u("li",{parentName:"ul"},u("p",{parentName:"li"},`\u751F\u6210\u7B7E\u540D\u6587\u4EF6
`,u("inlineCode",{parentName:"p"},"uapp keygen"))),u("li",{parentName:"ul"},u("p",{parentName:"li"},`\u66F4\u65B0\u79BB\u7EBF app \u4E2D\u7684 manifest \u4FE1\u606F webapp \u662F\u6307 uniapp \u9879\u76EE
`,u("inlineCode",{parentName:"p"},"uapp manifest sync ${webapp}/src/manifest.json"))),u("li",{parentName:"ul"},u("p",{parentName:"li"},`\u542F\u52A8 uapp \u547D\u4EE4
`,u("inlineCode",{parentName:"p"},"uapp prepare"),`
\u4F1A\u6267\u884C uapp \u91CC\u914D\u7F6E\u7684\u547D\u4EE4\uFF0C\u5148\u672C\u5730\u6784\u5EFA app \u5E94\u7528\uFF0C\u7136\u540E\u5C06\u6253\u5305\u540E\u7684\u6E90\u7801\u62F7\u8D1D\u5230\u79BB\u7EBF\u5DE5\u7A0B`,u("inlineCode",{parentName:"p"},"app/main/assets/apps"),"\u4E0B")),u("li",{parentName:"ul"},u("p",{parentName:"li"},"manifest.json \u914D\u7F6E"),u("pre",{parentName:"li"},u("code",{parentName:"pre",className:"language-json"},`"name" : "app-h5",
  "appid" : "__UNI__C97108E",
  "description" : "",
  "versionName" : "1.0.0",
  "versionCode" : "100",
  "transformPx" : false,
  "uapp" : {
      "name" : "uniapp-boat",
      "package" : "com.yaolx.uniapp",
      "android.appkey" : "\u586B\u5165\u7533\u8BF7\u7684dcloud_appkey",
      "ios.appkey" : "ios.appkey",
      "prepare.dir" : "\${SRC}/../dist/build/app",
      "prepare.before" : "cd \${SRC}/../ && npm run build:app",
      "prepare.after" : "uapp publish debug"
  },
`)))),u("h3",null,"\u7533\u8BF7 ",u("a",{parentName:"h3",href:"https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey.html"},"dcloud_appkey")),u("p",null,`\u9700\u8981\u76F8\u5173\u914D\u7F6E\u4FE1\u606F
`,u("img",{parentName:"p",src:"https://cdn.jsdelivr.net/gh/yaolx/picBed@main/blogs/pics/20230108145418.png",alt:"20230108145418"})),u("p",null,"\u53EF\u4EE5\u901A\u8FC7 uapp info \u83B7\u53D6",u("inlineCode",{parentName:"p"},"sha1"),",",u("inlineCode",{parentName:"p"},"md5"),",",u("inlineCode",{parentName:"p"},"sha256")),u("p",null,"\u8BBE\u7F6E\u5B8C\u6210\u4E4B\u540E\uFF0C\u70B9\u51FB\u67E5\u770B",u("inlineCode",{parentName:"p"},"\u79BB\u7EBF\u6253\u5305key")),u("p",null,u("img",{parentName:"p",src:"https://cdn.jsdelivr.net/gh/yaolx/picBed@main/blogs/pics/20230108155956.png",alt:"20230108155956"})),u("p",null,"\u5C06\u5305\u540D\u3001android.appkey \u586B\u5165 manifest.json \u7684 uapp \u4E2D"),u("h3",null,"android \u79BB\u7EBF\u5DE5\u7A0B\u76F8\u5173\u914D\u7F6E"),u("ol",null,u("li",{parentName:"ol"},u("p",{parentName:"li"},"local.properties \u914D\u7F6E android SDK"),u("p",{parentName:"li"},`\u4E0B\u8F7D android studio \u540E\uFF0C\u4E0B\u8F7D\u5BF9\u5E94\u7684 sdk \u5305\uFF0C\u7136\u540E\u914D\u7F6E sdk \u8DEF\u5F84
`,u("inlineCode",{parentName:"p"},"sdk.dir=E:\\\\android\\\\sdk"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u751F\u6210\u7B7E\u540D\u6587\u4EF6"),u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"uapp keygen"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u6267\u884C manifest sync\uFF0C\u5C06 uniapp \u4E2D\u7684 manifest \u4E0D\u540C\u5230\u79BB\u7EBF\u5DE5\u7A0B\u4E2D"),u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"uapp manifest sync ${webapp}/src/manifest.json"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u76F8\u5173\u914D\u7F6E\u68C0\u67E5\u3001\u9A8C\u8BC1\u662F\u5426\u4E00\u81F4"))),u("ul",null,u("li",{parentName:"ul"},u("inlineCode",{parentName:"li"},"app/src/main/assets/data/dcloud_control.xml"),"\u4E2D\u7684 appid \u662F\u5426\u8DDF ",u("inlineCode",{parentName:"li"},"manifest")," \u4E2D\u7684",u("inlineCode",{parentName:"li"},"appid"),"\u4E00\u81F4"),u("li",{parentName:"ul"},u("inlineCode",{parentName:"li"},"app/src/main/AndroidManifest.xml"),"\u4E2D\u7684 package \u662F\u5426\u8DDF ",u("inlineCode",{parentName:"li"},"uapp.package")," \u4E00\u81F4"),u("li",{parentName:"ul"},u("inlineCode",{parentName:"li"},"app/custom.gradle"),"\u4E2D\u7684 DCLOUD_APPKEY \u662F\u5426\u8DDF ",u("inlineCode",{parentName:"li"},"uapp.android.appkey")," \u4E00\u81F4")),u("ol",{start:5},u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u6253\u5305 apk"),u("p",{parentName:"li"},`\u6267\u884C\u6784\u5EFA\uFF0C\u672C\u5730\u6253\u5305\u547D\u4EE4
`,u("inlineCode",{parentName:"p"},"uapp prepare")))),u("h2",null,"FAQ"),u("ol",null,u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u5FAE\u4FE1\u5206\u4EAB\u7C7B\u540D\u62A5\u9519"),u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"import io.dcloud.feature.oauth.weixin.AbsWXCallbackActivity")),u("p",{parentName:"li"},"\u6539\u4E3A ",u("inlineCode",{parentName:"p"},"import io.dcloud.share.mm.AbsWXCallbackActivity"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},"keytool \u547D\u4EE4\u65E0\u6CD5\u83B7\u53D6\u5230 md5"),u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"keytool -list -v -keystore {your_app}.keystore")," \u65E0\u6CD5\u83B7\u53D6\u5230 md5\uFF0C\u6539\u7528 uapp info \u53EF\u4EE5\u83B7\u53D6\u5230")),u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u6267\u884C prepare \u540E\uFF0C\u79BB\u7EBF\u5DE5\u7A0B\u4E2D\u7684\u8D44\u6E90\u8DEF\u5F84\u6CA1\u6709 www\uFF0C"),u("p",{parentName:"li"},"\u4FEE\u6539 uniapp-boat \u7684\u6253\u5305\u547D\u4EE4\uFF0C\u589E\u52A0",u("inlineCode",{parentName:"p"},"--outDir"),"\uFF0C\u6307\u5B9A\u6253\u5305\u8DEF\u5F84"),u("pre",{parentName:"li"},u("code",{parentName:"pre",className:"language-json"},`"build:app": "uni build -p app --outDir dist/build/app/www",
`))),u("li",{parentName:"ol"},u("p",{parentName:"li"},"\u5982\u679C\u6709 java \u7C7B\u62A5\u9519\uFF0C\u4E00\u822C\u662F\u7F3A\u5C11 lib \u5305"),u("p",{parentName:"li"},"\u770B\u662F\u54EA\u4E2A\u7C7B\u62A5\u9519\uFF0C\u5C06\u5BF9\u5E94\u7684 aar \u5305\uFF0C\u62F7\u8D1D\u5230",u("inlineCode",{parentName:"p"},"uappsdk"),"\u4E0B\u7684 ",u("inlineCode",{parentName:"p"},"android/libs")," \u4E0B\u3002\u79BB\u7EBF\u5DE5\u7A0B\u8FD9\u8FB9\u6709\u505A\u4E86 link \u6620\u5C04")),u("li",{parentName:"ol"},u("p",{parentName:"li"},"debug \u5305\uFF0C\u5728\u6B63\u5F0F\u5305\u53D1\u5E03\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u53BB\u6389"))),u("h2",null,"\u603B\u7ED3"),u("p",null,"\u81F3\u6B64\uFF0C\u5B89\u5353\u4E0B\u7684\u79BB\u7EBF\u6253\u5305\u6210\u529F\uFF0C\u9047\u5230\u5404\u79CD\u95EE\u9898\uFF0C\u9010\u4E00\u89E3\u51B3"))}i.isMDXComponent=!0;export{i as default};
