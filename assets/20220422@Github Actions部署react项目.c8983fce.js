import"./react.103bb038.js";import{bf as u}from"./index.19a91aa8.js";import"./lodash.97b9911e.js";import"./markmap.86774f21.js";const a={},p="wrapper";function t({components:e,...n}){return u(p,{...a,...n,components:e,mdxType:"MDXLayout"},u("h1",null,u("center",null," Github Actions \u90E8\u7F72 react \u9879\u76EE")),u("h2",null,"\u4ECB\u7ECD"),u("p",null,"github actions \u90E8\u7F72\u524D\u7AEF\u9879\u76EE\u505A\u4E2A\u603B\u7ED3\u3002"),u("p",null,u("inlineCode",{parentName:"p"},"GitHub Actions"),"\u7C7B\u4F3C",u("inlineCode",{parentName:"p"},"Jenkins"),"\u7528\u6765\u505A\u6301\u7EED\u96C6\u6210\uFF0C\u53EA\u8981\u63D0\u4EA4\u4EE3\u7801\uFF0C\u5C31\u53EF\u4EE5\u81EA\u52A8\u505A\u6784\u5EFA\uFF0C\u53D1\u5E03\u64CD\u4F5C\u3002\u514D\u53BB\u81EA\u5DF1\u90E8\u7F72\u7684\u9EBB\u70E6"),u("p",null,"\u7528\u5B83\u90E8\u7F72\u6784\u5EFA\u662F\u975E\u5E38\u7B80\u5355\u7684\uFF0C\u4E5F\u65B9\u4FBF\u7ED9\u505A\u4E2A\u5C5E\u4E8E\u81EA\u5DF1\u7684\u535A\u5BA2\u7F51\u7AD9"),u("p",null,"github actions \u7684\u65B9\u4FBF\u4E4B\u5904\u662F\u5728\u4E8E\uFF0C\u4E0D\u7528\u81EA\u5DF1\u5199\u5F88\u591A\u811A\u672C"),u("p",null,"\u63A5\u4E0B\u6765\u4EE5",u("inlineCode",{parentName:"p"},"react-boat"),"\u9879\u76EE\u4E3A\u4F8B"),u("h2",null,"\u521B\u5EFA token"),u("p",null,"\u9996\u5148\u9700\u8981\u7ED9\u5F00\u542F github actions \u7684\u9879\u76EE\u4E00\u4E2A token\uFF0C\u8BA9\u5F00\u53D1\u8005\u62E5\u6709\u63A8\u9001\u4EE3\u7801\u7684\u6743\u9650\u7B49"),u("p",null,"\u8FDB\u5165",u("inlineCode",{parentName:"p"},"github\u4E3B\u9875"),"-->",u("inlineCode",{parentName:"p"},"Settings"),"-->",u("inlineCode",{parentName:"p"},"Developer settings"),"-->",u("inlineCode",{parentName:"p"},"Personal access tokens"),"-->",u("inlineCode",{parentName:"p"},"Generate new token"),"\u751F\u6210 token"),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420280-3188ee40-0acf-44a6-b342-338bc56721e1.png",alt:"Pasted image 20220421150316"})),u("p",null,"\u52FE\u4E0A workflow \u5DE5\u4F5C\u6D41\u6743\u9650\u548C repo \u9879\u76EE\u57FA\u7840\u6743\u9650"),u("p",null,"\u751F\u6210 token \u540E\uFF0C\u590D\u5236\uFF0C"),u("p",null,"\u7136\u540E\u5230",u("inlineCode",{parentName:"p"},"react-boat"),"\u9879\u76EE\u4E2D\uFF0C",u("inlineCode",{parentName:"p"},"Settings"),"-->",u("inlineCode",{parentName:"p"},"Secrets"),"-->",u("inlineCode",{parentName:"p"},"Actions"),"-->",u("inlineCode",{parentName:"p"},"New repository secret")),u("p",null,"\u65B0\u5EFA\u4E00\u4E2A",u("inlineCode",{parentName:"p"},"ACCESS_TOKEN"),"\uFF0C\u5C06\u524D\u9762\u590D\u5236\u7684 token \u5199\u5165"),u("h2",null,"\u914D\u7F6E\u9879\u76EE\u8DEF\u5F84"),u("p",null,"\u5728",u("inlineCode",{parentName:"p"},"package.json"),"\u4E2D\u589E\u52A0\u4E00\u4E2A",u("inlineCode",{parentName:"p"},"homepage"),"\uFF0C\u8FD9\u4E00\u6B65\u662F\u4E3A\u4E86\u786E\u5B9A\u9879\u76EE\u7684\u6839\u76EE\u5F55\uFF0C\u5728\u6253\u5305\u7684\u65F6\u5019\uFF0C\u4E5F\u8981\u6B63\u786E\u914D\u7F6E",u("inlineCode",{parentName:"p"},"js,css"),"\u7684\u5F15\u7528\u8DEF\u5F84"),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420343-ab4685ea-2427-4660-ba5e-b0f1983b2f03.png",alt:"Pasted image 20220421151627"})),u("h2",null,"\u5F00\u542F Actions"),u("p",null,"\u70B9\u51FB",u("inlineCode",{parentName:"p"},"Actions"),"-->",u("inlineCode",{parentName:"p"},"set up a workflow yourself"),"\uFF0C\u8FDB\u5165\u4E00\u4E2A yml \u7684\u6587\u4EF6\u7F16\u8F91\u9875\u9762\uFF0C\u8FD9\u4E2A\u811A\u672C\u9ED8\u8BA4\u653E\u5728",u("inlineCode",{parentName:"p"},"\u9879\u76EE\u6839\u76EE\u5F55/.github/workflows/")),u("p",null,"\u914D\u7F6E\u4EE5\u4E0B\u76F8\u5173\u6587\u6863"),u("pre",null,u("code",{parentName:"pre",className:"language-yml"},`
name: GitHub Actions Build and Deploy Demo

on:

\xA0 push:

\xA0 \xA0 branches:

     - master

jobs:

\xA0 build-and-deploy:

\xA0 \xA0 runs-on: ubuntu-latest

\xA0 \xA0 steps:

\xA0 \xA0 \xA0 - name: checkout

\xA0 \xA0 \xA0 \xA0 uses: actions/checkout@master

\xA0 \xA0 \xA0 \xA0 # \u5B89\u88C5\u4F9D\u8D56

\xA0 \xA0 \xA0 - name: install

\xA0 \xA0 \xA0 \xA0 run: yarn

\xA0 \xA0 \xA0 \xA0 # \u6253\u5305\u6784\u5EFA

\xA0 \xA0 \xA0 - name: build

\xA0 \xA0 \xA0 \xA0 run: yarn build:test

\xA0 \xA0 \xA0 \xA0 # \u90E8\u7F72\u8FD0\u884C

\xA0 \xA0 \xA0 - name: Deploy

\xA0 \xA0 \xA0 \xA0 uses: JamesIves/github-pages-deploy-action@v4.3.0

\xA0 \xA0 \xA0 \xA0 with:

\xA0 \xA0 \xA0 \xA0 \xA0 ACCESS_TOKEN: \${{ secrets.ACCESS_TOKEN }}

\xA0 \xA0 \xA0 \xA0 \xA0 BRANCH: gh-pages

\xA0 \xA0 \xA0 \xA0 \xA0 FOLDER: dist

`)),u("p",null,"\u4ECE\u5927\u5230\u5C0F\u53EF\u4EE5\u6309\u4EE5\u4E0B\u5212\u5206\uFF1A\xA0",u("strong",{parentName:"p"},"workflow\uFF08\u6700\u5927\uFF09 --> job --> step --> action\uFF08\u6700\u5C0F\uFF09")),u("ol",null,u("li",{parentName:"ol"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"name"),"\uFF1A\u811A\u672C\u540D\u79F0")),u("li",{parentName:"ol"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"on"),": \u5B9A\u4E49\u5DE5\u4F5C\u6D41\u89E6\u53D1\u7684\u65F6\u673A\uFF0C\u8FD9\u91CC\u8868\u793A",u("inlineCode",{parentName:"p"},"master"),"\u5206\u652F\u6709",u("inlineCode",{parentName:"p"},"push"),"\u65F6\uFF0C\u8BE5\u5DE5\u4F5C\u6D41\u4F1A\u89E6\u53D1")),u("li",{parentName:"ol"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"jobs"),"\uFF1A\u8868\u793A\u4EFB\u52A1\uFF0C\u53EF\u4EE5\u6709\u591A\u4E2A\u4EFB\u52A1"))),u("p",null,"\u5F53\u524D\u8868\u793A",u("inlineCode",{parentName:"p"},"build-and-deploy"),"\u8FD9\u4E2A\u4EFB\u52A1"),u("ol",{start:4},u("li",{parentName:"ol"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"runs-on"),"\uFF1A\u6307\u5B9A\u5DE5\u4F5C\u6D41\u4F1A\u5728\u54EA\u4E2A\u865A\u62DF\u673A\u4E2D\u8FD0\u884C\uFF0C\u53EF\u9009",u("inlineCode",{parentName:"p"},"windows"),"\u3001",u("inlineCode",{parentName:"p"},"macos"),"\u3001",u("inlineCode",{parentName:"p"},"ubuntu"))),u("li",{parentName:"ol"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"steps"),": \u8868\u793A\u5F53\u524D\u4EFB\u52A1\u4E0B\u7684\u6B65\u9AA4\uFF0C\u4ECE\u4E0A\u5230\u4E0B\u4E00\u6B21\u6267\u884C"))),u("p",null,"\u6BCF\u4E2A step \u6709\u4EE5\u4E0B\u5B57\u6BB5\uFF1A"),u("ul",null,u("li",{parentName:"ul"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"name"),"\uFF1A\u6B65\u9AA4\u540D")),u("li",{parentName:"ul"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"run"),": \u6267\u884C\u547D\u4EE4")),u("li",{parentName:"ul"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"env")," \u73AF\u5883")),u("li",{parentName:"ul"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"uses"),": \u4F7F\u7528\u7684 actions\uFF0C\u53EF\u4EE5\u4ECE",u("inlineCode",{parentName:"p"},"marketplace"),"\u4E2D\u62DB")),u("li",{parentName:"ul"},u("p",{parentName:"li"},u("inlineCode",{parentName:"p"},"with"),":action \u4F20\u5165\u7684\u53C2\u6570"))),u("p",null,"\u4EE5\u4E0A\u7684 yml \u4E2D\u5BF9\u5E94\u7684\u8BF4\u660E\uFF1A"),u("p",null,u("inlineCode",{parentName:"p"},"checkout"),"\uFF1A\u7528\u4E86\u4E00\u4E2A",u("inlineCode",{parentName:"p"},"checkout"),"\u7684",u("inlineCode",{parentName:"p"},"action"),"\uFF0C\u62C9\u53D6",u("inlineCode",{parentName:"p"},"master"),"\u7684\u4EE3\u7801"),u("p",null,u("inlineCode",{parentName:"p"},"install"),"\uFF1A\u5B89\u88C5\u4F9D\u8D56"),u("p",null,u("inlineCode",{parentName:"p"},"build"),"\uFF1A\u6253\u5305\u6D4B\u8BD5\u73AF\u5883"),u("p",null,u("inlineCode",{parentName:"p"},"deploy"),"\uFF1A\u7528\u5230",u("inlineCode",{parentName:"p"},"JamesIves"),"\u5199\u7684\u4E00\u4E2A action\uFF0C\u53EB",u("inlineCode",{parentName:"p"},"github-pages-deploy-action")),u("p",null,"\u4F20\u5165\u57FA\u672C\u914D\u7F6E\uFF1A\u6743\u9650",u("inlineCode",{parentName:"p"},"ACCESS_TOKEN"),"\uFF0C\u63A8\u9001\u7684\u5206\u652F\uFF1A",u("inlineCode",{parentName:"p"},"BRANCH"),"\uFF0C\u53D6\u6253\u5305\u7684\u9759\u6001\u6587\u4EF6\uFF1A",u("inlineCode",{parentName:"p"},"FOLDER")),u("p",null,"\u914D\u7F6E\u597D\u4EE5\u540E\uFF0C\u968F\u610F\u4FEE\u6539\u4E0B\u4EE3\u7801\uFF0C\u518D\u6B21\u63A8\u9001\u5230",u("inlineCode",{parentName:"p"},"master"),"\u5206\u652F\uFF0C\u5237\u65B0 github \u4E2D\u7684",u("inlineCode",{parentName:"p"},"react-boat"),"\uFF0C\u4F1A\u770B\u5230 Github Action \u4F1A\u81EA\u52A8\u8FD0\u884C\uFF0C\u53EF\u4EE5\u67E5\u770B\u5B83\u6253\u5305\u7684\u8FC7\u7A0B\uFF0C\u6784\u5EFA\u5B8C\uFF0C\u4F1A\u53D1\u73B0",u("inlineCode",{parentName:"p"},"react-boat"),"\u591A\u4E86\u4E00\u4E2A",u("inlineCode",{parentName:"p"},"gh-pages"),"\u5206\u652F\uFF0C\u91CC\u9762\u5C31\u662F\u5DF2\u7ECF\u6253\u5305\u597D\u7684\u9759\u6001\u8D44\u6E90\u6587\u4EF6\u3002"),u("p",null,"\u8FD9\u65F6\u5019\u53BB\u8BBF\u95EE\u6211\u4EEC\u524D\u9762\u914D\u7F6E\u597D\u7684",u("inlineCode",{parentName:"p"},"homepage"),"\uFF0C"),u("p",null,"\u4F1A\u53D1\u73B0",u("inlineCode",{parentName:"p"},"404")),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420385-6607af91-5f18-413e-a14d-324310115c1f.png",alt:"Pasted image 20220421161115"})),u("p",null,"\u67E5\u770B",u("inlineCode",{parentName:"p"},"github pages"),"\u6587\u6863\u53D1\u73B0\u8FD8\u6709\u4E00\u4E2A pages \u8981\u914D\u7F6E\u7684"),u("h2",null,"\u914D\u7F6E github pages"),u("p",null,"\u70B9\u51FB",u("inlineCode",{parentName:"p"},"Settings")," --> ",u("inlineCode",{parentName:"p"},"Pages")),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420460-5b154e06-154a-49be-9935-889c524b1c5e.png",alt:"Pasted image 20220421160422"})),u("p",null,"\u9009\u62E9",u("inlineCode",{parentName:"p"},"branch"),"\u6539\u4E3A",u("inlineCode",{parentName:"p"},"gh-pages"),"\uFF0C\u70B9\u51FB",u("inlineCode",{parentName:"p"},"Save")),u("p",null,u("inlineCode",{parentName:"p"},"actions"),"\u53C8\u518D\u4E00\u6B21\u505A\u6784\u5EFA\u4EFB\u52A1\uFF0C"),u("p",null,"\u518D\u6B21\u8BBF\u95EE",u("inlineCode",{parentName:"p"},"homepage"),"\uFF0C\u53D1\u73B0\u53EF\u4EE5\u8BBF\u95EE\uFF0C\u4F46\u662F\u8D44\u6E90\u6587\u4EF6\u62A5\u9519\u4E86"),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420488-52faaf2a-d383-4b74-863b-394245f203d5.png",alt:"Pasted image 20220421161412"})),u("p",null,"\u7ECF\u8FC7\u6392\u67E5\u53D1\u73B0",u("inlineCode",{parentName:"p"},"https://yaolx.github.io/react-boat/assets/index.8656a302.js"),"\u53EF\u4EE5\u6B63\u5E38\u8BBF\u95EE\uFF0C"),u("p",null,"\u90A3\u8BF4\u660E\u662F\u6211\u7684\u5DE5\u7A0B\u6784\u5EFA\u7684\u65F6\u5019\u6839\u8DEF\u5F84\u6709\u95EE\u9898\uFF0C\u5C11\u4E86",u("inlineCode",{parentName:"p"},"react-boat"),"\uFF0C\u8DDF github \u7684\u6CA1\u5BF9\u5E94\u4E0A"),u("p",null,"vite \u6784\u5EFA\u51FA\u6765\u7684 js \u5730\u5740\u662F",u("inlineCode",{parentName:"p"},"assets/*.js")),u("p",null,"\u9700\u8981\u6539\u6210",u("inlineCode",{parentName:"p"},"${\u9879\u76EE\u540D}/assets/*.js*")),u("h2",null,"\u8C03\u6574 vite \u6784\u5EFA\u8DEF\u5F84"),u("p",null,"\u589E\u52A0",u("inlineCode",{parentName:"p"},"base")),u("pre",null,u("code",{parentName:"pre",className:"language-js"},"import pkg from './package.json'\n\nbase: `/${pkg.name}/`\n")),u("p",null,"\u672C\u5730\u8BD5\u7740",u("inlineCode",{parentName:"p"},"yarn build:test")),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420512-25f5bb1a-95a2-42a0-a8f3-750804f73818.png",alt:"Pasted image 20220421161722"})),u("p",null,"\u53EF\u4EE5\u6B63\u5E38\u5C06\u6839\u8DEF\u5F84\u52A0\u4E0A",u("inlineCode",{parentName:"p"},"react-boat"),"\u4E86"),u("p",null,"\u518D\u6B21\u63D0\u4EA4\u4EE3\u7801\uFF0C push \u5230",u("inlineCode",{parentName:"p"},"master"),"\u5206\u652F"),u("p",null,"\u7B49\u5F85\u6784\u5EFA\u53D1\u5E03\u3002"),u("p",null,u("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7429874/164420539-f8955089-1e30-443a-b198-ff3487ba7290.png",alt:"Pasted image 20220421162408"})),u("p",null,"\u6700\u7EC8\u6548\u679C\uFF0C\u53EF\u4EE5\u6B63\u5E38\u8BBF\u95EE\u4E86"),u("p",null,u("a",{parentName:"p",href:"https://yaolx.github.io/react-boat"},"\u7F51\u7AD9\u5730\u5740")),u("h2",null,"\u53C2\u8003\u6587\u6863"),u("p",null,u("a",{parentName:"p",href:"https://docs.github.com/cn/pages/quickstart"},"gitHub Pages \u5FEB\u901F\u5165\u95E8")))}t.isMDXComponent=!0;export{t as default};
